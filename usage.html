<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<!-- Generated by Apache Maven Doxia at Aug 27, 2013 -->
<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en" lang="en">
  <head>
    <meta http-equiv="Content-Type" content="text/html; charset=UTF-8" />
    <title>Usage</title>
    <style type="text/css" media="all">
      @import url("./css/maven-base.css");
      @import url("./css/maven-theme.css");
      @import url("./css/site.css");
    </style>
    <link rel="stylesheet" href="./css/print.css" type="text/css" media="print" />
      <meta name="author" content="Alex Krupnov akrupnov@gmail.com" />
    <meta name="Date-Creation-yyyymmdd" content="20130825" />
    <meta name="Date-Revision-yyyymmdd" content="20130827" />
    <meta http-equiv="Content-Language" content="en" />
        
        </head>
  <body class="composite">
    <div id="banner">
                    <div id="bannerLeft">
                Qubell Maven Plugin
                </div>
                    <div class="clear">
        <hr/>
      </div>
    </div>
    <div id="breadcrumbs">
            
        
                <div class="xleft">
        <span id="publishDate">Last Published: 2013-08-27</span>
                  &nbsp;| <span id="projectVersion">Version: 1.0-SNAPSHOT</span>
                      </div>
            <div class="xright">        
        
      </div>
      <div class="clear">
        <hr/>
      </div>
    </div>
    <div id="leftColumn">
      <div id="navcolumn">
             
        
                                <h5>Overview</h5>
                  <ul>
                  <li class="none">
                          <a href="index.html" title="Introduction">Introduction</a>
            </li>
                  <li class="none">
                          <a href="plugin-info.html" title="Goals">Goals</a>
            </li>
                  <li class="none">
            <strong>Usage</strong>
          </li>
                  <li class="none">
                          <a href="faq.html" title="FAQ">FAQ</a>
            </li>
          </ul>
                       <h5>Project Documentation</h5>
                  <ul>
                                                                                                                                                                                                                                                                                                              <li class="collapsed">
                          <a href="project-info.html" title="Project Information">Project Information</a>
                  </li>
                                                                    <li class="collapsed">
                          <a href="project-reports.html" title="Project Reports">Project Reports</a>
                  </li>
          </ul>
                             <a href="http://maven.apache.org/" title="Built by Maven" class="poweredBy">
        <img class="poweredBy" alt="Built by Maven" src="./images/logos/maven-feather.png" />
      </a>
                   
        
            </div>
    </div>
    <div id="bodyColumn">
      <div id="contentBox">
        <!-- Licensed to the Apache Software Foundation (ASF) under one --><!-- or more contributor license agreements.  See the NOTICE file --><!-- distributed with this work for additional information --><!-- regarding copyright ownership.  The ASF licenses this file --><!-- to you under the Apache License, Version 2.0 (the --><!-- "License"); you may not use this file except in compliance --><!-- with the License.  You may obtain a copy of the License at --><!--  --><!-- http://www.apache.org/licenses/LICENSE-2.0 --><!--  --><!-- Unless required by applicable law or agreed to in writing, --><!-- software distributed under the License is distributed on an --><!-- "AS IS" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY --><!-- KIND, either express or implied.  See the License for the --><!-- specific language governing permissions and limitations --><!-- under the License. --><div class="section"><h2>Usage<a name="Usage"></a></h2><div class="section"><h3>Install plugin to target computer<a name="Install_plugin_to_target_computer"></a></h3><p>The recommended installation option is to have plugin installed to your repository storage and have it configured either globally in maven settings.xml or in the pom file for your project.</p><p>Another option is to install plugin jar artifact into local repository manually. To do so you need to call the following maven command</p><div class="source"><pre>mvn install:install-file -Dfile=qubell-maven-plugin-1.0-SNAPSHOT.jar -Dversion=1.0-SNAPSHOT -Dpackaging=jar -DgroupId=com.qubell.maven -DartifactId=qubell-maven-plugin</pre></div></div><div class="section"><h3>Prepare your project to use the qubell-maven-plugin<a name="Prepare_your_project_to_use_the_qubell-maven-plugin"></a></h3><p>Add the following code to <b>build</b> section of your pom file</p><div class="source"><pre>
&lt;project&gt;

  &lt;build&gt;
    &lt;plugins&gt;
      &lt;plugin&gt;
        &lt;groupId&gt;com.qubell.maven&lt;/groupId&gt;
        &lt;artifactId&gt;qubell-maven-plugin&lt;/artifactId&gt;
        &lt;version&gt;1.0-SNAPSHOT&lt;/version&gt;
        &lt;configuration&gt;
          &lt;!-- For configuration settings description see goals help page ---&gt;
          &lt;bypassSSLCheck&gt;true&lt;/bypassSSLCheck&gt;
          &lt;apiUsername&gt;username&lt;/apiUsername&gt;
          &lt;apiPassword&gt;password&lt;/apiPassword&gt;
          &lt;apiURL&gt;https://express.qubell.com/&lt;/apiURL&gt;

          &lt;statusPollingInterval&gt;10&lt;/statusPollingInterval&gt;
          &lt;statusWaitTimeout&gt;60&lt;/statusWaitTimeout&gt;
          &lt;logApiPayload&gt;false&lt;/logApiPayload&gt;
         &lt;/configuration&gt;
      &lt;/plugin&gt;
    &lt;/plugins&gt;
    ...
  &lt;/build&gt;
  ...
&lt;/project&gt;
</pre></div></div><div class="section"><h3>Configure plugin execution as part of lifecycle<a name="Configure_plugin_execution_as_part_of_lifecycle"></a></h3><p>You can configure plugin goals execution to be part of your Maven project lifecycle. Please see example below</p><div class="source"><pre>&lt;project&gt;
  ...
  &lt;build&gt;
    &lt;plugins&gt;
      &lt;plugin&gt;
        &lt;artifactId&gt;qubell-maven-plugin&lt;/artifactId&gt;
        ...
        &lt;configuration&gt;
          ...&lt;!-- Shared config settings --&gt;
         &lt;/configuration&gt;
        &lt;executions&gt;
          &lt;execution&gt;&lt;!-- Maven run executions in a natural order --&gt;
            &lt;id&gt;launch&lt;/id&gt;
            &lt;phase&gt;install&lt;/phase&gt;
            &lt;goals&gt;
              &lt;goal&gt;launch-instance&lt;/goal&gt;
            &lt;/goals&gt;
            &lt;configuration&gt;
              &lt;!-- Overriden global config value --&gt;
              &lt;statusPollingInterval&gt;5&lt;/statusPollingInterval&gt;
              &lt;applicationId&gt;5200df12e4b0758c3d25e2af&lt;/applicationId&gt;
              &lt;environmentId&gt;5200ddb8e4b0758c3d25e295&lt;/environmentId&gt;
              &lt;parameters&gt;
                  {
                    &quot;some&quot; : &quot;Param&quot;
                  }
              &lt;/parameters&gt;
              &lt;manifestRelativePath&gt;./samplerepo/manifest.yaml&lt;/manifestRelativePath&gt;
              &lt;outputRelativePath&gt;./path.json&lt;/outputRelativePath&gt;
              &lt;destroyInterval&gt;900000&lt;/destroyInterval&gt;
            &lt;/configuration&gt;
          &lt;/execution&gt;
          &lt;execution&gt;
            &lt;id&gt;returnstuff&lt;/id&gt;
            &lt;phase&gt;install&lt;/phase&gt;
            &lt;goals&gt;
              &lt;goal&gt;run-command&lt;/goal&gt;
            &lt;/goals&gt;
            &lt;configuration&gt;
              &lt;name&gt;returnstuff&lt;/name&gt;
              &lt;parameters&gt;
                  {
                    &quot;somekey&quot; : &quot;true&quot;
                  }
              &lt;/parameters&gt;
              &lt;outputRelativePath&gt;./returnstuff.json&lt;/outputRelativePath&gt;
            &lt;/configuration&gt;
          &lt;/execution&gt;
          &lt;execution&gt;
            &lt;id&gt;destroy&lt;/id&gt;
            &lt;phase&gt;install&lt;/phase&gt;
            &lt;goals&gt;
              &lt;goal&gt;destroy-instance&lt;/goal&gt;
            &lt;/goals&gt;
            &lt;configuration&gt;
              &lt;parameters&gt;
                  {
                    &quot;some&quot; : &quot;Param&quot;
                  }
              &lt;/parameters&gt;
              &lt;statusPollingInterval&gt;15&lt;/statusPollingInterval&gt;
              &lt;outputRelativePath&gt;./destroy.json&lt;/outputRelativePath&gt;
            &lt;/configuration&gt;
          &lt;/execution&gt;
        &lt;/executions&gt;

      &lt;/plugin&gt;
    &lt;/plugins&gt;
    ...
  &lt;/build&gt;
  ...
&lt;/project&gt;</pre></div><p>When you run the regular install target, Qubell goals will be executed by Maven</p><div class="source"><pre>mvn install</pre></div></div><div class="section"><h3>Running in standalone mode<a name="Running_in_standalone_mode"></a></h3><p>Qubell plugin goals can be executed manually when plugin is defined in your pom file</p><p>Launch instance of Application 5200ddb8e4b0758c3d25e294 when connection properties are stored in pom configuration</p><div class="source"><pre>mvn qubell:launch-instance -DapplicationId=5200df12e4b0758c3d25e2af</pre></div><p>Launches instance of Application, supplying all parameters from command line</p><div class="source"><pre>mvn qubell:launch-instance -DapplicationId=5200df12e4b0758c3d25e2af -DenvironmentId=5200ddb8e4b0758c3d25e295 -DapiURL=https://express.qubell.com/ -DapiUsername=user@name.com -DapiPassword=password -DbypassSSLCheck=true -DmanifestRelativePath=./sample/manifest.yaml -DoutputRelativePath=./out.json -DstatusPollingInterval=4 -DstatusWaitTimeout=90 -DdestroyInterval=900000 -Dparameters='{&quot;some&quot; : &quot;Param&quot;}'</pre></div><p>Runs instance workflow returnStuff on instance 5219de34e4b0bf0bfe18605f with custom parameters</p><div class="source"><pre>mvn qubell:run-command -DinstanceId=5219de34e4b0bf0bfe18605f -Dname=returnstuff -Dparameters='{&quot;some&quot; : &quot;Param&quot;}' -DoutputRelativePath=./returnstuff.json</pre></div><p>Same as above, ignoring optional parameters</p><div class="source"><pre>mvn qubell:run-command -DinstanceId=5219de34e4b0bf0bfe18605f -Dname=returnstuff</pre></div><p>Destroys instance 5219de34e4b0bf0bfe18605f</p><div class="source"><pre>mvn qubell:destroy-instance -DinstanceId=5219de34e4b0bf0bfe18605f -DoutputRelativePath=./destroy.json</pre></div><p>Verifying connection settings. In order to check the connection you can call goal test-connection</p><div class="source"><pre>mvn qubell:test-connection</pre></div><p>Debugging information: you can use -X option of maven to show plugin's debug inforamtion. For api payload logging add -DlogApiPayload=true Example below destroys instance 5200df12e4b0758c3d25e2af with maximum logging in place</p><div class="source"><pre>mvn qubell:destroy-instance -DinstanceId=5219cbf8e4b0bf0bfe186002 -DlogApiPayload=true</pre></div></div></div>
      </div>
    </div>
    <div class="clear">
      <hr/>
    </div>
    <div id="footer">
      <div class="xright">
              Copyright &#169;                   2013.
          All Rights Reserved.      
        
                  </div>
      <div class="clear">
        <hr/>
      </div>
    </div>
  </body>
</html>
